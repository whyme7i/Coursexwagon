<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ðŸ’€ MEMBERS ONLY GATE ðŸ’€</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin:0;
    padding:0;
    background: #222;
    color: gold;
    font-family: 'Courier New', monospace;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow-x: hidden;
  }
  .box {
    background: #333;
    border: 2px solid gold;
    border-radius: 15px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 0 20px gold;
    animation: appear 1s ease-in-out;
  }
  @keyframes appear { from {opacity:0; transform: translateY(-20px);} to {opacity:1; transform: translateY(0);} }

  input, button {
    padding:10px;
    margin:10px 0;
    font-size:16px;
    width: 80%;
    border-radius: 8px;
    border: 1px solid gold;
    background:#222;
    color: gold;
    outline:none;
  }
  button {
    cursor:pointer;
    background: gold;
    color: #222;
    font-weight: bold;
    transition: all 0.3s;
  }
  button:hover { transform: scale(1.05); }

  #message {
    font-size: 1.2em;
    margin-top: 10px;
    min-height: 40px;
  }

  #skeleton {
    width:100px;
    animation: dance 1s infinite;
    margin-bottom:20px;
  }
  @keyframes dance {
    0%{transform:rotate(-15deg);}
    25%{transform:rotate(15deg);}
    50%{transform:rotate(-15deg);}
    75%{transform:rotate(15deg);}
    100%{transform:rotate(-15deg);}
  }

  #loadingDiv {
    display:none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  #loadingBar {
    width: 80%;
    height: 20px;
    border:2px solid red;
    border-radius: 10px;
    overflow:hidden;
    margin-top:20px;
  }
  #progress {
    width:0%;
    height:100%;
    background:red;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:16px;
    color:#fff;
    font-weight:bold;
  }
</style>
</head>
<body>

<img id="skeleton" src="https://i.ebayimg.com/images/g/LHwAAOSwb9xnH64J/s-l1600.jpg" alt="Dancing Skeleton">

<div id="authDiv" class="box">
  <h2>Create Account / Login</h2>
  <input type="text" id="username" placeholder="Username"><br>
  <input type="email" id="email" placeholder="Email"><br>
  <input type="password" id="password" placeholder="Password"><br>
  <button onclick="createAccount()">Create Account</button>
  <button onclick="login()">Login</button>
  <div id="message"></div>
</div>

<div id="loadingDiv" class="box">
  <div>Processing...</div>
  <div id="loadingBar"><div id="progress">ðŸ’»</div></div>
</div>

<script>
  if(!localStorage.getItem("users")) localStorage.setItem("users", JSON.stringify([]));
  let attemptCount = 0;

  // Auto-login if already has account
  window.onload = function(){
    let currentUser = localStorage.getItem("currentUser");
    if(currentUser){
      showLoading(currentUser);
    }
  }

  function createAccount(){
    let username = document.getElementById("username").value.trim();
    let email = document.getElementById("email").value.trim();
    let password = document.getElementById("password").value.trim();
    if(!username || !email || !password){ showMessage("Fill all fields!"); return; }

    let users = JSON.parse(localStorage.getItem("users"));
    if(users.find(u => u.username===username || u.email===email)){
      showMessage("Username or Email already exists!");
      return;
    }
    users.push({username,email,password});
    localStorage.setItem("users", JSON.stringify(users));
    localStorage.setItem("currentUser", username);
    showMessage("Your account is ready! You will be processed to homepage âœ‹ðŸ˜‡", "success");
    showLoading(username);
  }

  function login(){
    let username = document.getElementById("username").value.trim();
    let password = document.getElementById("password").value.trim();
    let users = JSON.parse(localStorage.getItem("users"));
    let user = users.find(u => u.username===username && u.password===password);
    if(user){
      localStorage.setItem("currentUser", username);
      showMessage("Welcome back! Processing to homepage âœ‹ðŸ˜‡","success");
      showLoading(username);
    } else {
      attemptCount++;
      if(attemptCount===1) showMessage("No No please leave or create an account ðŸ˜¤");
      else showMessage("ðŸ˜¤ðŸ˜  I SAID CREATE AN ACCOUNT OR FUCK OFF ðŸ˜¡");
    }
  }

  function showMessage(msg,type="error"){
    const m = document.getElementById("message");
    m.innerHTML = msg;
    if(type==="success") m.style.color = "gold";
    else m.style.color = "red";
  }

  function showLoading(user){
    document.getElementById("authDiv").style.display="none";
    document.getElementById("loadingDiv").style.display="flex";
    let progress = document.getElementById("progress");
    let width = 0;
    let emojis = ["ðŸ’»","ðŸ›¡ï¸","âš¡","ðŸ”¥","ðŸ’€","ðŸ˜ˆ","ðŸ¤–","ðŸ‘¾"];
    let emojiIndex = 0;
    let interval = setInterval(()=>{
      if(width>=100){
        clearInterval(interval);
        window.location.href="homepage.html";
      } else {
        width += 2;
        progress.style.width = width + "%";
        progress.innerHTML = emojis[emojiIndex];
        emojiIndex = (emojiIndex+1)%emojis.length;
      }
    },100);
  }
</script>

</body>
</html>
