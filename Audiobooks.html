<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coursexwagon Audiobooks | The Vault of Mastery</title>
<link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@700;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Courier Prime', monospace;background:#0a0a0a;color:#f0d084;min-height:100vh;overflow-x:hidden;padding-top:80px;letter-spacing:0.04em;}
header{position:fixed;top:0;left:0;right:0;height:60px;background:#12100cdd;backdrop-filter:blur(6px);display:flex;justify-content:space-between;align-items:center;padding:0 24px;box-shadow: inset 0 -2px 4px #3b2c10cc;z-index:1100;}
header .logo{font-weight:900;font-size:1.7rem;color:#f0d084;text-transform:uppercase;text-shadow:1px 1px 2px #2f1f09;cursor:pointer;}
#searchInput{width:300px;max-width:80%;padding:6px 10px;background:#1a180f;color:#f0d084;border:1px solid #d4af37;border-radius:6px;font-weight:700;}
main{max-width:960px;margin:0 auto;padding:20px 24px;display:flex;flex-direction:column;gap:15px;}
.postCard{background:#1a180fdd;padding:15px;border-radius:12px;box-shadow:0 0 10px #444;transition:0.3s;cursor:pointer;}
.postCard:hover{box-shadow:0 0 20px #d4af37;transform:scale(1.02);}
.postTitle{font-size:1.3rem;font-weight:900;margin-bottom:6px;}
.postDesc{margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.postAdmin{font-size:0.8rem;color:#ccc;margin-bottom:4px;}
footer{background:#111009;color:#3f2b0dcc;text-align:center;padding:20px 16px;font-size:0.85rem;border-top:1px solid #f0d084;margin-top:40px;}
footer a{color:#f0d084;text-decoration:none;font-weight:700;}
footer a:hover{color:#d4b162;}
</style>
</head>
<body>

<header>
  <div class="logo" onclick="location.href='index.html'">C.X</div>
  <input type="text" id="searchInput" placeholder="Search Audiobooks...">
</header>

<main id="postsContainer">
  <!-- Posts loaded dynamically -->
</main>

<footer>
  <div>Unlock forbidden knowledge. Rule the underground.</div>
  <div><a href="policy.html">Policy</a> / <a href="aboutus.html">About COURSE.XWAGON</a></div>
  <div>Email: <a href="mailto:Coursexwagon@gmail.com">Coursexwagon@gmail.com</a></div>
</footer>

<script>
const postsContainer=document.getElementById("postsContainer");
const searchInput=document.getElementById("searchInput");

// Load posts from localStorage
function loadPosts(){
  postsContainer.innerHTML="";
  let posts=JSON.parse(localStorage.getItem("audiobooks.html")||"[]");
  posts.forEach((p,i)=>{
    const card=document.createElement("div");
    card.className="postCard";
    card.style.color=p.textColor||"#f0d084";
    card.style.background=p.bgColor||"#1a180fdd";
    card.innerHTML=`
      <div class="postTitle">${p.emoji||"ðŸ’€"} ${p.title}</div>
      <div class="postDesc">${p.desc}</div>
      <div class="postAdmin">Posted by ${p.admin}</div>
    `;
    card.addEventListener("click",()=>{
      window.location.href=`thread.html?id=${p.id}`;
    });
    postsContainer.appendChild(card);
  });
}

// Real-time search
searchInput.addEventListener("input",()=>{
  let filter=searchInput.value.toLowerCase();
  let cards=postsContainer.querySelectorAll(".postCard");
  cards.forEach(card=>{
    let title=card.querySelector(".postTitle").innerText.toLowerCase();
    let desc=card.querySelector(".postDesc").innerText.toLowerCase();
    card.style.display=(title.includes(filter)||desc.includes(filter))?"block":"none";
  });
});

window.addEventListener("load",loadPosts);
</script>

</body>
</html>
